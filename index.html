<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HEKA √âlectricit√© ‚Äî Devis & interventions BTP</title>
  <meta name="description" content="HEKA √âlectricit√© : artisans experts, devis rapide, contr√¥le qualit√© par expert. Envoyez votre demande avec photos." />
  <link rel="icon" href='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><rect width="64" height="64" rx="12" fill="black"/><text x="50%" y="56%" font-size="40" text-anchor="middle" fill="white" font-family="Arial">H</text></svg>'/>
  <style>
    :root{--bg:#0b0c0f;--panel:#111317;--muted:#8b94a7;--line:#1f2430;--brand:#0ea5e9;--ok:#22c55e;--text:#e6e7ea}
    *{box-sizing:border-box}
    body{margin:0;background:#0c1016;color:var(--text);font:15px/1.6 Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .container{max-width:1100px;margin:0 auto;padding:20px}
    header{position:sticky;top:0;z-index:10;background:rgba(13,16,22,.8);backdrop-filter:blur(8px);border-bottom:1px solid var(--line)}
    .brand{display:flex;align-items:center;gap:10px}
    .logo{width:36px;height:36px;border-radius:10px;background:#000;display:grid;place-items:center;font-weight:900;color:#fff}
    nav{display:flex;gap:16px;font-weight:600;color:#b5bfd1}
    .hero{border:1px solid var(--line);border-radius:22px;overflow:hidden}
    .hero-img{height:360px;background:url('https://source.unsplash.com/1600x600/?electricity,industrial') center/cover no-repeat}
    .hero-bar{display:flex;align-items:center;justify-content:space-between;gap:12px;background:linear-gradient(135deg,#0d1118,#0f1724);padding:16px 18px}
    .kpis{display:flex;gap:8px;flex-wrap:wrap}
    .badge{font-size:12px;border:1px solid var(--line);padding:6px 10px;border-radius:999px;background:#0d141e}
    h1{font-size:32px;line-height:1.15;margin:0}
    h2{font-size:22px;margin:0 0 12px}
    .grid{display:grid;gap:18px}
    @media(min-width:980px){.grid-3{grid-template-columns:repeat(3,1fr)}.grid-2{grid-template-columns:1.1fr .9fr}}
    .card{background:var(--panel);border:1px solid var(--line);border-radius:18px;padding:18px;box-shadow:0 8px 30px rgba(0,0,0,.25)}
    .muted{color:var(--muted)}
    .btn{display:inline-flex;align-items:center;justify-content:center;border-radius:12px;border:1px solid var(--line);padding:11px 14px;font-weight:800;cursor:pointer}
    .btn.primary{background:#25D366;color:#001018;border-color:transparent} /* WhatsApp en priorit√© */
    .btn.secondary{background:var(--brand);color:#001018;border-color:transparent}
    input,select,textarea{width:100%;background:#0d1016;border:1px solid #20283a;border-radius:12px;color:var(--text);padding:12px}
    textarea{min-height:120px;resize:vertical}
    .photos{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
    .thumb{position:relative;border:1px solid #2a3347;border-radius:10px;overflow:hidden}
    .thumb img{width:100%;height:90px;object-fit:cover}
    .x{position:absolute;top:6px;right:6px;border-radius:10px;background:rgba(0,0,0,.55);padding:0 6px}
    footer{border-top:1px solid var(--line);margin-top:28px;color:#93a1b5}
    pre{background:#0a0f1a;border:1px solid #121a2a;border-radius:12px;padding:12px;white-space:pre-wrap}
    .pill{font-size:12px;border:1px solid var(--line);padding:4px 8px;border-radius:999px;background:#0d141e;display:none}
    .note{font-size:12px;color:#9fb0c7}
  </style>
</head>
<body>
  <!-- En-t√™te -->
  <header>
    <div class="container" style="display:flex;align-items:center;justify-content:space-between;padding:12px 6px">
      <div class="brand">
        <div id="logoHit" class="logo" title="Admin (triple-clic)">H</div>
        <div>
          <div style="font-weight:900">HEKA √âlectricit√©</div>
          <div class="muted" style="margin-top:2px">Artisans experts ¬∑ FR & CH</div>
        </div>
      </div>
      <nav>
        <a href="#devis">Demander un devis</a>
        <a href="#services">Services</a>
        <a href="#securite">S√©curit√©</a>
      </nav>
      <div id="adminBadge" class="pill">Admin ON</div>
    </div>
  </header>

  <main class="container">
    <!-- Hero -->
    <section class="hero">
      <div class="hero-img"></div>
      <div class="hero-bar">
        <div>
          <h1>R√©parez, installez, r√©novez.<br/>Devis en ligne en 2 minutes.</h1>
          <div class="muted">Partenariats avec artisans <strong>v√©rifi√©s</strong>. Contr√¥le <strong>qualit√© & s√©curit√©</strong> en fin de chantier par un expert.</div>
          <div style="margin-top:10px;display:flex;gap:8px;flex-wrap:wrap">
            <a class="btn primary" href="#devis">D√©marrer (WhatsApp)</a>
            <a class="btn secondary" href="mailto:contact@heka-electricite.fr?subject=Demande%20de%20devis">Ou e-mail</a>
          </div>
          <div class="note" style="margin-top:8px">Apr√®s envoi, WhatsApp s‚Äôouvre avec votre message pr√©rempli. Vous pourrez ajouter les photos directement dans la conversation.</div>
        </div>
        <div class="kpis">
          <div class="badge">R√©ponse &lt; 1h ouvr√©e</div>
          <div class="badge">Zones FR ¬∑ CH</div>
          <div class="badge">Photos (8 max)</div>
          <div class="badge">Devis clair</div>
        </div>
      </div>
    </section>

    <!-- Services avec photos -->
    <section id="services" class="grid grid-3" style="margin-top:18px">
      <article class="card">
        <img src="https://source.unsplash.com/400x260/?electrician,cable" alt="√âlectricit√©">
        <h2>√âlectricit√©</h2>
        <p class="muted">D√©pannage, mises aux normes, tableaux, luminaires, prises, IRVE.</p>
      </article>
      <article class="card">
        <img src="https://source.unsplash.com/400x260/?plumber,pipe" alt="Plomberie">
        <h2>Plomberie</h2>
        <p class="muted">Fuites, chauffe-eau, salles de bain, robinetterie, √©vacuations.</p>
      </article>
      <article class="card">
        <img src="https://source.unsplash.com/400x260/?renovation,construction" alt="R√©novation">
        <h2>R√©novation</h2>
        <p class="muted">Petite r√©novation, peinture, cloisons, coordination multi-m√©tiers.</p>
      </article>
    </section>

    <!-- S√©curit√©/Qualit√© -->
    <section id="securite" class="grid grid-2" style="margin-top:18px">
      <div class="card">
        <h2>S√©curit√© & contr√¥le qualit√©</h2>
        <p class="muted">Un <strong>expert ind√©pendant</strong> passe en fin de chantier pour v√©rifier l‚Äôintervention, valider la conformit√© et la s√©curit√© avant cl√¥ture. Rapport possible sur demande.</p>
        <ul class="muted">
          <li>Artisans assur√©s et v√©rifi√©s</li>
          <li>Suivi client & respect des d√©lais</li>
          <li>Devis clair avant intervention</li>
        </ul>
      </div>
      <div class="card">
        <img src="https://source.unsplash.com/700x420/?construction,safety" alt="Contr√¥le s√©curit√© chantier">
      </div>
    </section>

    <!-- Devis / Formulaire -->
    <section id="devis" class="grid grid-2" style="margin-top:18px">
      <div class="card">
        <h2>Votre demande (WhatsApp prioritaire)</h2>
        <div class="muted">Remplissez, on ouvre WhatsApp avec votre message pr√©rempli. Vous pourrez ajouter les photos dans le chat.</div>

        <form id="leadForm" style="display:grid;gap:12px;margin-top:10px">
          <input type="text" id="nom" placeholder="Nom / Pr√©nom" required>
          <div style="display:grid;gap:12px;grid-template-columns:1fr 1fr">
            <input type="tel" id="tel" placeholder="T√©l√©phone" required>
            <input type="email" id="email" placeholder="Email" required>
          </div>
          <div style="display:grid;gap:12px;grid-template-columns:1fr 1fr">
            <input type="text" id="ville" placeholder="Ville" required>
            <input type="text" id="adresse" placeholder="Adresse (optionnel)">
          </div>
          <div style="display:grid;gap:12px;grid-template-columns:1fr 1fr">
            <select id="categorie" required>
              <option value="">Cat√©gorie</option>
              <option>√âlectricit√©</option><option>Plomberie</option><option>Chauffage</option>
              <option>Climatisation</option><option>Peinture</option><option>R√©novation</option><option>Autre</option>
            </select>
            <select id="urgence" required>
              <option value="">Urgence</option>
              <option>Standard (48‚Äì72h)</option><option>Rapide (24‚Äì48h)</option><option>Urgent (&lt;24h)</option>
            </select>
          </div>

          <label for="photos" class="muted">Photos (max 8) ‚Äî <em>elles seront √† joindre apr√®s ouverture de WhatsApp</em></label>
          <input id="photos" type="file" accept="image/*" multiple>
          <div id="gallery" class="photos"></div>

          <textarea id="desc" rows="5" placeholder="D√©crivez le besoin (ex : disjoncteur, cr√©ation de 2 prises‚Ä¶)" required></textarea>

          <div style="display:flex;gap:8px;flex-wrap:wrap">
            <button class="btn primary" type="submit">Envoyer sur WhatsApp</button>
            <a id="mailtoBtn" class="btn secondary" href="#">E-mail</a>
          </div>
          <div class="note">En envoyant, vous acceptez un traitement minimal des donn√©es pour r√©pondre √† votre demande.</div>
        </form>

        <div id="okMsg" class="muted" style="display:none;margin-top:8px;color:var(--ok)">‚úÖ Demande envoy√©e (copie envoy√©e en arri√®re-plan).</div>
        <div id="errMsg" class="muted" style="display:none;margin-top:8px;color:#fb7185">‚ùå Copie e-mail impossible (optionnel). Pas grave, WhatsApp est envoy√©.</div>
      </div>

      <!-- Contact direct -->
      <aside class="card">
        <h2>Contact direct</h2>
        <p class="muted">Besoin d‚Äôune r√©ponse imm√©diate ?</p>
        <a class="btn primary" href="https://wa.me/33769313309" target="_blank" rel="noreferrer">WhatsApp +33 7 69 31 33 09</a>
        <div style="height:12px"></div>
        <a class="btn" href="tel:+33769313309">Appeler : +33 7 69 31 33 09</a>
        <div style="height:12px"></div>
        <a class="btn" href="mailto:contact@heka-electricite.fr?subject=Demande%20de%20devis">Envoyer un e-mail</a>
      </aside>
    </section>
  </main>

  <footer>
    <div class="container" style="display:flex;align-items:center;justify-content:space-between;padding:16px 6px;flex-wrap:wrap;gap:8px">
      <div>¬© <span id="year"></span> HEKA GROUP ‚Äì HEKA √âlectricit√©</div>
      <div class="muted">Mentions l√©gales ¬∑ Confidentialit√©</div>
    </div>
  </footer>

  <script>
    // ====== PARAMS ======
    const WA_NUMBER = "33769313309"; // ton num√©ro (format international sans +)
    const FORMSPREE_ENDPOINT = "https://formspree.io/f/mblkqpjz"; // copie en arri√®re-plan (optionnel)
    // ====================

    const byId = id => document.getElementById(id);

    // Preview photos c√¥t√© client (juste visuel)
    const input = byId('photos');
    const gallery = byId('gallery');
    if(input){
      input.addEventListener('change',(e)=>{
        const files = Array.from(e.target.files||[]).slice(0,8);
        gallery.innerHTML='';
        files.forEach((f,i)=>{
          const url = URL.createObjectURL(f);
          const d = document.createElement('div');
          d.className='thumb';
          d.innerHTML = `<img src="${url}" alt="photo ${i}"><button class="x" type="button">√ó</button>`;
          d.querySelector('.x').addEventListener('click',()=>d.remove());
          gallery.appendChild(d);
        });
      });
    }

    function buildMessage(){
      const nom = byId('nom').value.trim();
      const tel = byId('tel').value.trim();
      const email = byId('email').value.trim();
      const ville = byId('ville').value.trim();
      const adresse = byId('adresse').value.trim();
      const categorie = byId('categorie').value;
      const urgence = byId('urgence').value;
      const desc = byId('desc').value.trim();

      const lines = [
        "HEKA √âlectricit√© ‚Äì Demande de devis",
        "",
        `Nom: ${nom}`,
        `T√©l√©phone: ${tel}`,
        `Email: ${email}`,
        `Ville/Adresse: ${ville} ${adresse}`,
        `Cat√©gorie: ${categorie||'-'}`,
        `Urgence: ${urgence||'-'}`,
        "",
        "Description:",
        desc || "(non pr√©cis√©e)",
        "",
        "üìé Merci d'ajouter vos photos ici dans WhatsApp."
      ];
      return lines.join("\n");
    }

    // Ouverture WhatsApp en priorit√© + copie Formspree en arri√®re-plan
    const form = byId('leadForm');
    const okMsg = byId('okMsg');
    const errMsg = byId('errMsg');
    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      okMsg.style.display='none'; errMsg.style.display='none';

      const msg = buildMessage();
      const url = `https://wa.me/${WA_NUMBER}?text=${encodeURIComponent(msg)}`;
      // 1) Ouvre WhatsApp pour l‚Äôutilisateur
      window.open(url, "_blank");

      // 2) Copie en arri√®re-plan (optionnelle)
      try{
        const payload = new FormData();
        payload.append('summary', msg);
        payload.append('nom', byId('nom').value);
        payload.append('telephone', byId('tel').value);
        payload.append('email', byId('email').value);
        payload.append('ville', byId('ville').value);
        payload.append('adresse', byId('adresse').value);
        payload.append('categorie', byId('categorie').value);
        payload.append('urgence', byId('urgence').value);
        payload.append('description', byId('desc').value);
        const res = await fetch(FORMSPREE_ENDPOINT, { method:'POST', body: payload, headers:{ 'Accept':'application/json' }});
        if(res.ok){ okMsg.style.display='block'; form.reset(); gallery.innerHTML=''; }
        else { errMsg.style.display='block'; }
      }catch(_){ errMsg.style.display='block'; }
    });

    // Bouton e-mail (fallback manuel)
    const mailBtn = byId('mailtoBtn');
    mailBtn.addEventListener('click',(e)=>{
      const msg = buildMessage();
      mailBtn.href = `mailto:contact@heka-electricite.fr?subject=Demande%20de%20devis&body=${encodeURIComponent(msg)}`;
    });

    // Admin badge (placeholder)
    let clicks=0,timer=null;
    const badge=byId('adminBadge');
    byId('logoHit').addEventListener('click', ()=>{
      clicks++; if(timer) clearTimeout(timer); timer=setTimeout(()=>{clicks=0},700);
      if(clicks>=3){ clicks=0; badge.style.display = (badge.style.display==='none' || !badge.style.display)?'inline-block':'none'; }
    });

    byId('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
